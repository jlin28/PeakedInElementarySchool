PIES DEVLOG
Joyce Lin, Evan Khosh, Sean Zheng, Zixi Qiao
P01: ArRESTed Development
----------------------------

* Each entry should begin with the following format: firstL -- TIMESTAMP ( e.g.: topherM -- 1999-12-31 23:59 )
* Most recent entry at the bottom, separated from previous with a newline

firstL -- TIMESTAMP (temp entry for format)
LABEL
* NEW CHANGES:
    -
    -
    -
* ERRORS/BUGS:
    -
    -
    -

joyceL -- 2025-11-29 18:16
STATIC FILES
* NEW CHANGES:
    - added prelim designs for board + pieces

joyceL -- 2025-12-2 18:57
INITIAL DD REVIEW
* SUMMARY OF FEEDBACK:
    - Negatives included: explanations of components as well as their relationships not being clear enough,
          component map being convoluted and hard to read,
          static files and helper functions being in the same box -- thus giving the impression that they were one and the same,
          database names being confusing
    - Positives included: nice organization as well as a simple site map,
          compliments on the overall idea and name of the app
* NEW CHANGES:
    - added more detailed explanations to components (primarily html pages)
    - moved unnamed helper functions to be under their respective python files
    - updated component map to be much less convoluted and added little explanations regarding the relationship
      each arrow represents
    - slight changes to database variable naming for clarity
    - imported updated design doc to repo
    - set up readme

joyceL -- 2025-12-3 11:21
GROUP IN CLASS WORK
* NEW CHANGES:
    - readme for keys and a preliminary requirements.txt were added
    - keys for APIs that require them added to the keys dir

evanK -- 2025-12-3 11:21
FLASK FRAMEWORK
* NEW CHANGES:
    - wrote framework for __init__.py with initial funcions and flask paths

evanK -- 2025-12-4 11:47
DATABASE FUNCTIONS
* NEW CHANGES:
    - created db.py to hold methods for database management
    - wrote table creation methods (create_questions & create_game_data)
    - wrote questions table accessor method (get_question)
    - wrote questions table mutator method (make_question)

zixiQ -- 2025-12-4 11:47
CHESS LOGIC
* NEW CHANGES:
    - created chess branch with initial functions reset and flip board
    - created/initialized global variables init_pos and current_pos

seanZ -- 2025-12-4 11:47
API cALLING
* NEW CHANGES:
    - links to each api is established
    - started data calling with json

evanK -- 2025-12-4 20:48
DATABASE FUNCTIONS
* NEW CHANGES:
    - wrote game table accessor method (get_board_state)
    - wrote game table mutator method (make_board_state)

zixiQ -- 2025-12-4 11:59
CHESS LOGIC
* NEW CHANGES:
    - began implementing legal squares for pieces
        - rooks hopefully complete
    - helper functions written: on_board(), get_color()

evanK -- 2025-12-5 11:30
DATABASE FUNCTIONS
* NEW CHANGES:
    - changed f strings in SQL queries to ? placeholders
    - wrote game table mutator method (make_board_state with no parameters which appends)
    - wrote questions accessor method (get_random_question)

zixiQ -- 2025-12-5 11:47
CHESS LOGIC
* NEW CHANGES:
    - created functions to find legal squares for knights, bishops, and queens
        - writing funcs for kings and pawns
    - began is_check() function
    - slightly refactored code

seanZ -- 2025-12-5 11:47
API cALLING
* NEW CHANGES:
    - separated apiCall function into different sections
    - worked on calling and utilizing movieAPI

joyceL -- 2025-12-5 12:31
CSS AND STATIC FILES
* NEW CHANGES:
    - Making basic setup for menu.html and added a prelim bg
    - adding images for bgs and titles
    - added buttons + modal for settings

joyceL -- 2025-12-6 00:24
SETTINGS
* NEW CHANGES:
    - Setting up modal
      - adding some input types
    - singleplayer + multiplayer buttons now act as submit buttons
      - sends you to game with selected settings
    - set up prelim install guide and launch codes

joyceL -- 2025-12-6 23:02
MORE FIGURING OUT MENU
* NEW CHANGES:
    - Implemented a way for settings to stay after they are set (until they are changed)
    - organized modal a little more
    - added audio (bgm)
* ERRORS/BUGS:
    - autoplay for bgm does not currently work -- waiting to test on lab computers

zixiQ -- 2025-12-7 19:00
CHESS LOGIC
* NEW CHANGES:
    - Added functions to find legal squares for pawns and kings
    - Added functions to check if a square is being attacked

joyceL -- 2025-12-7 21:52
BEGIN GAME.HTML
* NEW CHANGES:
    - put the board into the page and centered it

seanZ -- 2025-12-7 23:56
API CALLING
* NEW CHANGES:
    - movie API works and established selection criteria
    - discovered quota for movie API

zixiQ -- 2025-12-8 11:43
CHESS LOGIC
* NEW CHANGES:
    - Added function to check if king is in check
    - Updated rook_moves() to return only certain moves if king is in check

seanZ -- 2025-12-8 11:46
API CALLING
* NEW CHANGES:
    - started spanish english api calling function

evanK -- 2025-12-8 11:47
FLASK FRAMEWORK
* NEW CHANGES:
    - changed how settings are edited
    - added tags for singleplayer and multiplayer buttons
    - added a redirect to game

joyceL -- 2025-12-8 12:33
AUDIO STUFFS
* NEW CHANGES:
    - implemented a way for audio to play in menu

zixiQ -- 2025-12-8 21:47
CHESS LOGIC
* NEW CHANGES:
    - Added simulate_move() to check if piece can move (king is in check/pinned)
    - Updated legal_moves() to properly filter out moves when in check/pin, reverted rook_moves() change
    - Ran a couple of tests

seanZ -- 2025-12-8 22:08
API CALLING
* NEW CHANGES:
    - Added storing for film data in a db table in data.db
    - Added and tested way for error handling for apiCall() in __init__.py

joyceL -- 2025-12-8 23:42
GAME AND MORE AUDIO
* NEW CHANGES:
    - Optimized audio code a bit
    - Worked on implementing image and buttons grid for game.html
    - set up sprites as well as select animations

zixiQ -- 2025-12-9 11:45
CHESS LOGIC
* NEW CHANGES:
    - Created a promotion function
    - Modified pawn_moves() to start accounting for en passant
* ERRORS/BUGS:
    - En passant logic is incorrect and WIP, finish later

evanK -- 2025-12-9 11:46
FLASK FRAMEWORK
* NEW CHANGES:
    - wrote flask handling for moving a piece
    - wrote flask handling for selecting a piece

joyceL -- 2025-12-9 12:37
ANIMATIONS
* NEW CHANGES:
    - fixed small audio issue
    - created randomized animation for menu.html
    - beginning movement logic (animations) for game.html

zixiQ -- 2025-12-9 21:15
CHESS LOGIC
* NEW CHANGES:
    - Modified promotion to return all possible promotions
    - Implemented en passant, modified simulate moves and pawn moves functions
    - Fixed flip board (before only flipped rows, not columns)
    - Flipped starting board orientation

joyceL -- 2025-12-9 21:34
MORE ANIMATIONS
* NEW CHANGES:
    - got the movement animation somewhat down
* ERRORS/BUGS:
    - need to figure out how to have the pieces move consistently to center of square

zixiQ -- 2025-12-10 11:45
CHESS LOGIC
* NEW CHANGES:
    - Implementing castling functionality
    - Modified simulate move for castling

evanK -- 2025-12-10 11:46
DATABASE FUNCTIONS
* NEW CHANGES:
    - fixed SQL syntax
    - updated database functions

seanZ -- 2025-12-10 11:46
API STUFF
* NEW CHANGES:
    - made episodes called to spit out series instead
    - fixed key interruptions and deletions error handling

zixiQ -- 2025-12-10 21:00
CHESS LOGIC
* NEW CHANGES:
    - Implemented castling, fixed en passant issue

joyceL -- 2025-12-10 21:12
SETTING UP INTERACTIONS BETWEEN FE AND BE
* NEW CHANGES:
    - Implemented veryyyyyyyy basic ajax call
    - made it so that pieces move to proper places inside each square
    - set up a resetBoard() based on input from flask
    - rewrote stopMove() to account for ajax addition and change to walk animation
    - beginning highlightLegalSquares functions
* ERRORS/BUGS:
    - background-color for squares has overflow that's bad

evanK -- 2025-12-11 11:44
FLASK FRAMEWORK
* NEW CHANGES:
    - fixed order of functions to avoid repeat call errors

zixiQ -- 2025-12-11 11:45
CHESS LOGIC
* NEW CHANGES:
    - Implementing game over, no checkmates (king must be captured) but stalemates are possible

joyceL -- 2025-12-11 12:36
SETTING UP MOREEEEEEEE INTERACTIONS BETWEEN FE AND BE
* NEW CHANGES:
    - Setting up ajax for moving to change board states
* ERRORS/BUGS:
    - Error when trying to run make_board_state
    - Error when importing api.py

zixiQ -- 2025-12-11 23:30
CHESS LOGIC
* NEW CHANGES:
    - Game over implemented with stalemate logic fixed

seanZ -- 2025-12-12 11:45
API
* NEW CHANGES:
    - rick and morty API and superhero API calling implemented
    - Spanish and Thesaurus API requires word list(will add later)

zixiQ -- 2025-12-12 11:45
HTML RENDERING
* NEW CHANGES:
    - Relearning a little JS
    - Implementing rendering a new pop up when a move is made for trivia

evanK -- 2025-12-12 11:46
FLASK FRAMEWORK
* NEW CHANGES:
    - gave board state changes permanence
    - added use of flip_board function
    - updated code to use same variable names

joyceL -- 2025-12-12 12:35
ANIMATIONS + TURNS
* NEW CHANGES:
    - Turns now alternate
    - changed spin board to curtains animation
    - must be the current player to select piece

joyceL -- 2025-12-12 12:35
FLIPPING AND CURTAINS
* NEW CHANGES:
    - Finished up board flipping in FEF
    - Completed curtains animation

zixiQ -- 2025-12-13 20:20
CHESS LOGIC
* NEW CHANGES:
    - Reworked flip_board() to get_display_board() to separate display and internal boards
    - Added functions to convert from display coordinates to internal coordinates and vice versa
    - Updated reset_board() to reset globals

seanZ -- 2025-12-14 22:01
API CALLING
* NEW CHANGES:
    - All APIS are implemented in apiCall()
    - Added text files in static/words for apiCall()

zixiQ -- 2025-12-15 11:45
CHESS LOGIC
* NEW CHANGES:
    - Created function to check if in checkmate, not game over
# ERRORS/BUGS:
    - Found an sqlite query bug but Evan already fixed this period lol

evanK -- 2025-12-15 11:46
FLASK FRAMEWORK
* NEW CHANGES:
    - wrote framework for result page
    - updated menu POST request handling to match stylistically with game

joyceL -- 2025-12-15 12:34
FLIPPING AND CURTAINS
* NEW CHANGES:
    - Chess piecs change properly
    - Fixed issue with legal squares highlighting
    - Now if there are no legal moves, piece will be highlighted with red
    - Fixed display issue with board
    - added audio to game.html

joyceL -- 2025-12-15 20:49
ANIMATIONS AND SETTINGS
* NEW CHANGES:
    - Made it so that settings are added to session
    - Added a trivia categories section to settings
    - fixed menu screen repeat spawnPiece call issue

zixiQ -- 2025-12-15 23:11
CHESS LOGIC AND TRIVIA
* NEW CHANGES:
    - Fixed in_checkmate() function
    - Implementing pop up for trivia in chess

seanZ -- 2025-12-16 11:42
QUESTIONS
* NEW CHANGES:
    - Worked on questions for films(the toughest one)

zixiQ -- 2025-12-16 11:45
TRIVIA OVERLAY
* NEW CHANGES:
    - Implementing trivia pop up when a move is selected
    - Tested and background shows

evanK -- 2025-12-16 11:46
FLASK FRAMEWORK
* NEW CHANGES:
    - added redirect to results page
    - added use of chess.py methods to check for game-over, checkmate, and stalemate
    - added handling for game-over, checkmate, and stalemate

joyceL -- 2025-12-16 12:34
DATETIME
* NEW CHANGES:
    - Figuring out datetime library and adding it as an accessible variable
    - setting up a reverse time setting

zixiQ -- 2025-12-16 22:36
TRIVIA OVERLAY
* NEW CHANGES:
    - Implemented trivia pop up with placeholder for questions

joyceL -- 2025-12-17 1:18
DATETIME
* NEW CHANGES:
    - Added prelim changes to inversed time setting (untested)
    - Beginning result page and created graphics as well as template
* ERRORS/BUGS:
    - For some reason there seems to be errors when trying to run the main python file
      - may be because I'm running it on my laptop???

zixiQ -- 2025-12-17 11:18
CHESS ENGINE
* NEW CHANGES:
    - Created getNextMove() function to call chess api
    - Fixed merge conflict errors to pull request trivia overlay changes yesterday

seanZ -- 2025-12-17 11:18
QUESTIONS
* NEW CHANGES:
    - questions about directors basically done

evanK -- 2025-12-17 11:18
PIECE HIGHLIGHTING
* NEW CHANGES:
    - removed highlight when no moves available
    - fixed error with highlihting when only one move is available

joyceL -- 2025-12-17 12:06
DATETIME
* NEW CHANGES:
    - finished result CSS
    - beginnign replay function

evanK -- 2025-12-17 21:53
PIECE HIGHLIGHTING
* NEW CHANGES:
    - wrote code to highlight king
    - added request handling to check for king being in check

joyceL -- 2025-12-17 23:02
TRIVIA AND RESULT
* NEW CHANGES:
    - made a prelim replay system
    - implemented a timer
    - skipturn is functioning
    - made curtains slightly faster

seanZ -- 2025-12-18 00:33
QUESTIONS
* NEW CHANGES:
    - create_questions() in db.py done
    - cached 200 questions in data.db

seanZ -- 2025-12-18 11:16
QUESTIONS
* NEW CHANGES:
    - get_question and get_random_question functions done
    - tried to implement trivia questions in __init__.py

joyceL -- 2025-12-18 12:30
REPLAY SYSTEM AND DISPLAYS
* NEW CHANGES:
    - replay system is now fully functioning
    - timer is repositioned and turns red at 10 seconds
    - display for replay system is altered slightly

joyceL -- 2025-12-18 22:38
TRIVIA
* NEW CHANGES:
    - connecting trivia and front end
    - slight changes to db.py (added a get_latest_id and get_random_question
      consider type)
    - removed ntitle and using invert() filters instead
    - made setting modal bigger

zixiQ -- 2025-12-18 23:38
CHESS ENGINE
* NEW CHANGES:
    - Created function to convert board position to fen notation
    - Fixed chess api calling in getNextMove()

zixiQ -- 2025-12-19 11:45
CHESS ENGINE
* NEW CHANGES:
    - Completed getNextMove(), need to update api call with real color to move (currently always white)

joyceL -- 2025-12-20 05:19
TRIVIA
* NEW CHANGES:
    - formatting trivia popup
* ERRORS/BUGS:
    - errors are thrown when trying to pull question

zixiQ -- 2025-12-20 20:27
CHESS ENGINE
* NEW CHANGES:
    - Added promotion handling, difficulty levels, and fixed bugs in getNextMove()

joyceL -- 2025-12-20 22:03
TRIVIA
* NEW CHANGES:
    - completed trivia popup format
    - optimized positioning for timer

joyceL -- 2025-12-21 02:02
CHECKMATE
* NEW CHANGES:
    - Reworked check system
    - Creating a checkmate system
    - Fixed issue with move system where the board was not updating
